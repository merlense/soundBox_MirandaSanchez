<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="utf-8" />
    <link rel="icon" href="%PUBLIC_URL%/favicon.ico" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#000000" />
    
    <!-- METADATOS MEJORADOS -->
    <meta
      name="description"
      content="SoundBox - Tu Letterboxd para música. Descubre, califica y comparte tus álbumes favoritos."
    />
    
    <!-- TÍTULO DE TU APP -->
    <title>SoundBox</title>
    
    <!-- APPLE TOUCH ICON -->
    <link rel="apple-touch-icon" href="%PUBLIC_URL%/logo192.png" />
    
    <!-- BOOTSTRAP 5 CSS (PRIMERO) -->
    <link 
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" 
      rel="stylesheet" 
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" 
      crossorigin="anonymous"
    >
    
    <!-- FONT AWESOME (Iconos) -->
    <link 
      rel="stylesheet" 
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" 
      integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" 
      crossorigin="anonymous" 
      referrerpolicy="no-referrer" 
    />
    
    <!-- BOOTSTRAP ICONS (Alternativa) -->
    <link 
      rel="stylesheet" 
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css"
    >
    
    <!-- MANIFEST (para PWA) -->
    <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />
    
    <!-- GOOGLE FONTS (OPCIONAL) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
      /* ESTILOS INLINE PARA MEJOR RENDIMIENTO */
      body {
        font-family: 'Montserrat', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
        background-color: #f8f9fa;
      }
      
      /* Prevenir scroll horizontal en móvil */
      html, body {
        overflow-x: hidden;
        max-width: 100%;
      }
    </style>
  </head>
  
  <body>
    <noscript>
      <div class="container mt-5 text-center">
        <h1>SoundBox requiere JavaScript</h1>
        <p>Por favor, habilita JavaScript en tu navegador para usar esta aplicación.</p>
      </div>
    </noscript>
    
    <!-- CONTENEDOR PRINCIPAL DE REACT -->
    <div id="root"></div>
    
    <!-- BOOTSTRAP JS BUNDLE (CON POPPER) - AL FINAL DEL BODY -->
    <script 
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" 
      integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" 
      crossorigin="anonymous"
    ></script>
    
    <!-- SCRIPT ADICIONAL PARA ARREGLAR MODALES EN MÓVIL -->
    <script>
      // Fix para modales de Bootstrap en móvil
      document.addEventListener('DOMContentLoaded', function() {
        // Asegurar que los modales se cierren correctamente
        var modals = document.querySelectorAll('.modal');
        modals.forEach(function(modal) {
          modal.addEventListener('shown.bs.modal', function() {
            document.body.classList.add('modal-open');
          });
          
          modal.addEventListener('hidden.bs.modal', function() {
            document.body.classList.remove('modal-open');
            document.body.style.paddingRight = '';
          });
        });
        
        // Fix para navbar toggler en móvil
        var navbarToggler = document.querySelector('.navbar-toggler');
        if (navbarToggler) {
          navbarToggler.addEventListener('click', function() {
            var target = this.getAttribute('data-bs-target');
            var navbar = document.querySelector(target);
            if (navbar) {
              navbar.classList.toggle('show');
            }
          });
        }
      });
    </script>
  </body>
</html>